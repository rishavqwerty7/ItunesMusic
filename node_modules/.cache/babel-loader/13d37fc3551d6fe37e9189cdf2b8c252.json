{"ast":null,"code":"import _objectSpread from\"/home/rishav/final_pro/iTunesApple/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/rishav/final_pro/iTunesApple/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/rishav/final_pro/iTunesApple/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rishav/final_pro/iTunesApple/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rishav/final_pro/iTunesApple/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rishav/final_pro/iTunesApple/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import Homepage from'./Homepage';import Fav from'./Fav';import Selected from'./Selected';import{Link,Route,Switch}from'react-router-dom';import Axios from'axios';var PublicRoutes=/*#__PURE__*/function(_Component){_inherits(PublicRoutes,_Component);var _super=_createSuper(PublicRoutes);function PublicRoutes(props){var _this;_classCallCheck(this,PublicRoutes);_this=_super.call(this,props);_this.addFav=function(e,song){e.preventDefault();_this.setState({fav:[].concat(_toConsumableArray(_this.state.fav),[song]),icon:true});console.log(_this.state.fav,'hi');};_this.updateSearch=function(e){_this.setState({search:e.target.value});console.log(_this.state.search);};_this.state={data:[],loading:true,fav:[],icon:false,search:''};return _this;}_createClass(PublicRoutes,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Axios.get(\"https://itunes.apple.com/us/rss/topalbums/limit=100/json\").then(function(res){console.log(res);_this2.setState({data:res.data.feed.entry,loading:false,fav:[]});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:function render(props){return/*#__PURE__*/_jsx(Homepage,_objectSpread(_objectSpread({},props),{},{data:_this3.state.data,loading:_this3.state.loading,addFav:_this3.addFav,icon:_this3.props.icon,search:_this3.state.search,updateSearch:_this3.updateSearch}));}}),/*#__PURE__*/_jsx(Route,{path:\"/favourites\",render:function render(props){return/*#__PURE__*/_jsx(Fav,_objectSpread(_objectSpread({},props),{},{fav:_this3.state.fav}));}}),/*#__PURE__*/_jsx(Route,{path:\"/song/:name\",render:function render(props){return/*#__PURE__*/_jsx(Selected,_objectSpread(_objectSpread({},props),{},{data:_this3.state.data}));}})]})});}}]);return PublicRoutes;}(Component);export default PublicRoutes;","map":{"version":3,"sources":["/home/rishav/final_pro/iTunesApple/src/components/PublicRoutes.jsx"],"names":["React","Component","Homepage","Fav","Selected","Link","Route","Switch","Axios","PublicRoutes","props","addFav","e","song","preventDefault","setState","fav","state","icon","console","log","updateSearch","search","target","value","data","loading","get","then","res","feed","entry","catch","err"],"mappings":"q+BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,MAAtB,KAAoC,kBAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GACMC,CAAAA,Y,4GACJ,sBAAYC,KAAZ,CAAmB,8CACjB,uBAAMA,KAAN,EADiB,MAwBnBC,MAxBmB,CAwBV,SAACC,CAAD,CAAIC,IAAJ,CAAa,CACpBD,CAAC,CAACE,cAAF,GACA,MAAKC,QAAL,CAAc,CACZC,GAAG,8BAAM,MAAKC,KAAL,CAAWD,GAAjB,GAAsBH,IAAtB,EADS,CAEZK,IAAI,CAAE,IAFM,CAAd,EAIAC,OAAO,CAACC,GAAR,CAAY,MAAKH,KAAL,CAAWD,GAAvB,CAA4B,IAA5B,EACD,CA/BkB,OAiCnBK,YAjCmB,CAiCJ,SAACT,CAAD,CAAO,CACpB,MAAKG,QAAL,CAAc,CACZO,MAAM,CAAEV,CAAC,CAACW,MAAF,CAASC,KADL,CAAd,EAGAL,OAAO,CAACC,GAAR,CAAY,MAAKH,KAAL,CAAWK,MAAvB,EACD,CAtCkB,CAEjB,MAAKL,KAAL,CAAa,CACXQ,IAAI,CAAE,EADK,CAEXC,OAAO,CAAE,IAFE,CAGXV,GAAG,CAAE,EAHM,CAIXE,IAAI,CAAE,KAJK,CAKXI,MAAM,CAAE,EALG,CAAb,CAFiB,aASlB,C,sFAEmB,iBAClBd,KAAK,CAACmB,GAAN,6DACGC,IADH,CACQ,SAACC,GAAD,CAAS,CACbV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACA,MAAI,CAACd,QAAL,CAAc,CACZU,IAAI,CAAEI,GAAG,CAACJ,IAAJ,CAASK,IAAT,CAAcC,KADR,CAEZL,OAAO,CAAE,KAFG,CAGZV,GAAG,CAAE,EAHO,CAAd,EAKD,CARH,EASGgB,KATH,CASS,SAACC,GAAD,QAASd,CAAAA,OAAO,CAACC,GAAR,CAAYa,GAAZ,CAAT,EATT,EAUD,C,uCAkBQ,iBACP,mBACE,kCACE,MAAC,MAAD,yBACE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,GAFP,CAGE,MAAM,CAAE,gBAACvB,KAAD,qBACN,KAAC,QAAD,gCACMA,KADN,MAEE,IAAI,CAAE,MAAI,CAACO,KAAL,CAAWQ,IAFnB,CAGE,OAAO,CAAE,MAAI,CAACR,KAAL,CAAWS,OAHtB,CAIE,MAAM,CAAE,MAAI,CAACf,MAJf,CAKE,IAAI,CAAE,MAAI,CAACD,KAAL,CAAWQ,IALnB,CAME,MAAM,CAAE,MAAI,CAACD,KAAL,CAAWK,MANrB,CAOE,YAAY,CAAE,MAAI,CAACD,YAPrB,GADM,EAHV,EADF,cAgBE,KAAC,KAAD,EACE,IAAI,CAAC,aADP,CAEE,MAAM,CAAE,gBAACX,KAAD,qBAAW,KAAC,GAAD,gCAASA,KAAT,MAAgB,GAAG,CAAE,MAAI,CAACO,KAAL,CAAWD,GAAhC,GAAX,EAFV,EAhBF,cAoBE,KAAC,KAAD,EACE,IAAI,CAAC,aADP,CAEE,MAAM,CAAE,gBAACN,KAAD,qBAAW,KAAC,QAAD,gCAAcA,KAAd,MAAqB,IAAI,CAAE,MAAI,CAACO,KAAL,CAAWQ,IAAtC,GAAX,EAFV,EApBF,GADF,EADF,CA6BD,C,0BAvEwBxB,S,EA0E3B,cAAeQ,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react'\nimport Homepage from './Homepage'\nimport Fav from './Fav'\nimport Selected from './Selected'\nimport { Link, Route, Switch } from 'react-router-dom'\nimport Axios from 'axios'\nclass PublicRoutes extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      data: [],\n      loading: true,\n      fav: [],\n      icon: false,\n      search: '',\n    }\n  }\n\n  componentDidMount() {\n    Axios.get(`https://itunes.apple.com/us/rss/topalbums/limit=100/json`)\n      .then((res) => {\n        console.log(res)\n        this.setState({\n          data: res.data.feed.entry,\n          loading: false,\n          fav: [],\n        })\n      })\n      .catch((err) => console.log(err))\n  }\n\n  addFav = (e, song) => {\n    e.preventDefault()\n    this.setState({\n      fav: [...this.state.fav, song],\n      icon: true,\n    })\n    console.log(this.state.fav, 'hi')\n  }\n\n  updateSearch = (e) => {\n    this.setState({\n      search: e.target.value,\n    })\n    console.log(this.state.search)\n  }\n\n  render() {\n    return (\n      <div>\n        <Switch>\n          <Route\n            exact\n            path='/'\n            render={(props) => (\n              <Homepage\n                {...props}\n                data={this.state.data}\n                loading={this.state.loading}\n                addFav={this.addFav}\n                icon={this.props.icon}\n                search={this.state.search}\n                updateSearch={this.updateSearch}\n              />\n            )}\n          />\n          <Route\n            path='/favourites'\n            render={(props) => <Fav {...props} fav={this.state.fav} />}\n          />\n          <Route\n            path='/song/:name'\n            render={(props) => <Selected {...props} data={this.state.data} />}\n          />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default PublicRoutes\n"]},"metadata":{},"sourceType":"module"}